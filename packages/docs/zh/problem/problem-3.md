# 问题3：OAuth2的实现方式、授权类型及与OAuth1的区别

## OAuth2 核心概念

OAuth2 是一个授权框架，允许第三方应用获取用户资源的有限访问权限，而无需暴露用户凭证。

## OAuth2 主要实现方式

1. **授权码模式 (Authorization Code)**

   - 最安全的模式，适用于Web应用
   - 流程：客户端 → 授权服务器 → 用户 → 授权码 → 令牌

2. **隐式授权模式 (Implicit)**

   - 简化流程，直接返回访问令牌
   - 适用于纯前端应用(如SPA)

3. **密码模式 (Resource Owner Password Credentials)**

   - 直接使用用户名/密码换取令牌
   - 仅适用于高度信任的客户端

4. **客户端凭证模式 (Client Credentials)**
   - 客户端直接认证获取令牌
   - 适用于服务端到服务端的通信

## OAuth2 与 OAuth1 的主要区别

| 特性       | OAuth1             | OAuth2            |
| ---------- | ------------------ | ----------------- |
| 签名要求   | 必须               | 可选(HTTPS替代)   |
| 流程复杂度 | 高                 | 低                |
| 令牌类型   | 单一               | 访问令牌+刷新令牌 |
| 性能       | 低(每次请求需签名) | 高                |
| 移动端支持 | 差                 | 优秀              |
| 实现难度   | 困难               | 简单              |

## 最佳实践建议

1. Web应用优先使用授权码模式
2. 移动应用使用PKCE扩展的授权码模式
3. 避免使用密码模式，除非完全信任客户端
4. 始终使用HTTPS保证传输安全
5. 令牌设置合理有效期并使用刷新令牌
